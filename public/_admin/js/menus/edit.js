/*! For license information please see edit.js.LICENSE.txt */
!function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=26)}({26:function(e,t,a){e.exports=a(27)},27:function(e,t){function a(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var n=void 0!==window.AppLocale&&window.AppLocale;if(!n)throw new Error("AppLocale locale not loaded.");var o=void 0!==window.MenuLocale&&window.MenuLocale;if(!o)throw new Error("MenuLocale locale not loaded.");jQuery((function(e){"use strict";var t=e("#list-1"),i=e(".js-btn-add-to-menu"),s=e(".js-custom-add-to-menu-button"),r=e(".js-btn-save-menu"),l=e(".menu-empty"),u={initMainSortable:function(){e(".js-menu-list").sortable({placeholder:"ui-state-highlight",connectWith:".submenu-list",forcePlaceholderSize:!0,forceHelperSize:!0,tolerance:"pointer",start:function(t,a){e("body").addClass("dragging")},stop:function(t,a){e("body").removeClass("dragging"),r.removeClass("no-click disabled")}}).disableSelection()},initConnectedSortable:function(){e(".submenu-list").sortable({placeholder:"ui-state-highlight",connectWith:".submenu-list,.js-menu-list",forcePlaceholderSize:!0,forceHelperSize:!0,tolerance:"pointer",start:function(t,a){e("body").addClass("dragging")},stop:function(t,a){e("body").removeClass("dragging"),r.removeClass("no-click disabled")}}).disableSelection()},updateSaveButtonState:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"x0000"===e&&(l.hide(),r.removeClass("hidden")),u.__hasMenuItems()||(t||r.addClass("hidden"),l.show()),t?r.removeClass("no-click disabled"):r.addClass("no-click disabled")},__hasMenuItems:function(){var e=t.find(".list-item");return e&&e.length>=1},__removeMenuItem:function(e,a){if(e.preventDefault(),e.stopPropagation(),confirm(o.confirm_delete_item)){var n=a.attr("data-target");void 0!==n&&(t.find('.list-item[data-selector="'+n+'"]').remove(),u.updateSaveButtonState("x0001",!0))}},__setupDynamicListeners:function(){e.each(e(".js-btn-remove",t),(function(t,a){e(a).off("click").on("click",(function(t){u.__removeMenuItem(t,e(a))}))}))},__resetChecked:function(t){var a=t.find(".js-check-input:checked");a&&a.length>=1&&e.each(a,(function(t,a){var n=e(a);n.is(":checked")&&n.prop("checked",!1)}))},__saveMenu:function(t){var i=u.__menuToArray(),s=e("#menu-items-sortable .js-ajax-loader");r.addClass("no-click"),s.removeClass("hidden");var l={url:n.ajax.url,method:"POST",async:!0,timeout:29e3,data:a({action:"menu_save",menu_id:o.menu_id,menu_items:i},n.nonce_name,n.nonce_value)};e.ajax(l).done((function(e){e?e.success?e.data?showToast(e.data,"success"):showToast(n.ajax.empty_response,"warning"):e.data?showToast(e.data,"warning"):showToast(n.ajax.empty_response,"warning"):showToast(n.ajax.no_response,"warning")})).fail((function(e,t,a){showToast(a,"error")})).always((function(){u.updateSaveButtonState("x0001",!1),s.addClass("hidden")}))},__menuToArray:function(){t.sortable("toArray",{attribute:"data-selector",key:"data-id",expression:/(.+)/});var a=e(">.list-item",e(".js-menu-list")),n={};return e.each(a,(function(t,a){var o=e(a),i=o.attr("data-selector"),s=o.attr("data-type");n[t]={id:o.attr("data-id"),type:s,selector:i,menuItemId:o.attr("data-menu-item-id"),children:[]},"custom"===s&&(n[t].title=o.attr("data-title"),n[t].url=o.attr("data-url")),n[t].children=u.__getChildren(o)})),n},__getChildren:function(t){var a=[],n=e("> .submenu-list > li",t);return n.length>0&&e.each(n,(function(t,n){var o=e(n),i=o.attr("data-selector"),s=o.attr("data-type");a[t]={id:o.attr("data-id"),type:s,selector:i,menuItemId:o.attr("data-menu-item-id"),children:u.__getChildren(o)},"custom"===s&&(a[t].title=o.attr("data-title"),a[t].url=o.attr("data-url"))})),a}};u.initMainSortable(),u.initConnectedSortable(),u.updateSaveButtonState("x0000",!1),u.__setupDynamicListeners(),r.on("click",u.__saveMenu),i.on("click",(function(a){var n=e(this),i=e(".collapse.show "+n.attr("data-target"));if(void 0!==i){var s=i.find(".js-check-input:checked");e.each(s,(function(a,n){var i=e(n),s=i.val(),r=i.attr("data-type"),l=i.attr("data-menu-item-id"),u=i.attr("data-title"),d=r+s;t.append('<li data-selector="'+d+'" data-id="'+s+'" data-menu-item-id="'+l+'" data-type="'+r+'" class="list-item"><p>'+u+'<a href="#" class="js-btn-remove" data-target="'+d+'" title="'+o.delete_text_title+'">'+o.delete_text+'</a></p><ul class="list-unstyled submenu-list"></ul></li>')})),s.length>=1&&(u.updateSaveButtonState("x0000"),u.__setupDynamicListeners(),u.__resetChecked(i),u.initConnectedSortable())}})),s.on("click",(function(a){var n=e("#menu-item-title").val(),i=e("#menu-item-url").val(),s=e("#menu-item-data-type").val(),r=s+1001;return!(!n||n.length<1)&&(!(!i||i.length<1)&&(t.append('<li data-selector="'+r+'" data-id="1001" data-menu-item-id="0" data-type="'+s+'" data-title="'+n+'" data-url="'+i+'" class="list-item"><p>'+n+'<a href="#" class="js-btn-remove" data-target="'+r+'" title="'+o.delete_text_title+'">'+o.delete_text+'</a></p><ul class="list-unstyled submenu-list"></ul></li>'),u.updateSaveButtonState("x0000"),void u.__setupDynamicListeners()))}))})),jQuery((function(e){"use strict";var t=e("#form-menu-name .js-ajax-loader");e(".js-save-menu-title-button").on("click",(function(i){i.preventDefault();var s=e(this),r=e("#form-menu-name"),l=e(".name-field",r);if(!l||!l.val().length>0)return!1;s.addClass("no-click"),t.removeClass("hidden");var u={url:n.ajax.url,method:"POST",cache:!1,timeout:29e3,data:a({action:"save_menu_name",menu_name:l.val(),menu_id:o.menu_id},n.nonce_name,n.nonce_value)};e.ajax(u).done((function(e){e?e.success?showToast(e.data,"success"):e.data?showToast(e.data,"warning"):showToast(n.ajax.empty_response,"warning"):showToast(n.ajax.no_response,"error")})).fail((function(e,t,a){showToast(a,"error")})).always((function(){s.removeClass("no-click"),t.addClass("hidden")}))}))})),jQuery((function(e){"use strict";var t=e(".form-menu-options .js-ajax-loader");e(".js-menu-save-options-button").on("click",(function(i){i.preventDefault();var s=e(this),r=e('input[name="display_as"]:checked');if(!r||!r.val().length>0)return!1;s.addClass("no-click"),t.removeClass("hidden");var l={url:n.ajax.url,method:"POST",cache:!1,timeout:29e3,data:a({action:"save_menu_options",display_as:r.val(),menu_id:o.menu_id},n.nonce_name,n.nonce_value)};e.ajax(l).done((function(e){e?e.success?showToast(o.text_options_saved,"success"):e.data?showToast(e.data,"warning"):showToast(n.ajax.empty_response,"warning"):showToast(n.ajax.no_response,"error")})).fail((function(e,t,a){showToast(a,"error")})).always((function(){s.removeClass("no-click"),t.addClass("hidden")}))}))})),jQuery((function(e){"use strict";e(".cp-menu-edit-accordion");e(".js-trigger").on("click",(function(t){t.preventDefault();var a=e(this),n=a.next(".js-sign");a.hasClass("collapsed")?n.removeClass("fa-plus").addClass("fa-minus"):n.removeClass("fa-minus").addClass("fa-plus")}))}))}});