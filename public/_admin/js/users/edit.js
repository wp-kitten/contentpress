(()=>{var e=void 0!==window.UsersPageLocale&&window.UsersPageLocale;if(!e)throw new Error("UsersPageLocale locale not loaded.");jQuery((function(o){"use strict";var a=window.AppLocale,n=!1,r=new DropifyImageUploader(o("#user_image_field"));n||(r.setup({on_add_image:function(n){var r=n.element[0].files[0];if(r.length<1)return!1;var t=new FormData;t.append("action","set_user_image"),t.append("user_id",e.user_id),t.append("user_image",r),t.append(a.nonce_name,a.nonce_value),o.ajax({url:a.ajax.url,method:"POST",async:!0,timeout:29e3,data:t,processData:!1,contentType:!1}).done((function(o){o?o.success?showToast(e.text_image_set,"success"):showToast(a.ajax.empty_response,"warning"):showToast(a.ajax.no_response,"error")})).fail((function(e,o,a){showToast(a,"error")}))},on_remove_image:function(){var n,r,t;o.ajax({url:a.ajax.url,method:"POST",async:!0,timeout:29e3,data:(n={action:"delete_user_image",user_id:e.user_id},r=a.nonce_name,t=a.nonce_value,r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n)}).done((function(o){o?o.success?showToast(e.text_image_removed,"success"):showToast(a.ajax.empty_response,"warning"):showToast(a.ajax.no_response,"error")})).fail((function(e,o,a){showToast(a,"error")}))}}),n=!0)})),jQuery((function(o){"use strict";ValPressTextEditor.register("author_bio",new Quill("#field-bio-editor",{modules:{toolbar:[[{header:[!1]}],["bold","italic","underline"]]},scrollingContainer:".quill-scrolling-container",placeholder:e.text_info_bio,theme:"bubble"})),o("#js-acc-mgmt-update-btn").on("click",(function(e){o("#field-bio").val(ValPressTextEditor.getHTML("author_bio"))}))}))})();